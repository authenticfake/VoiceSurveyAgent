{
  "info": {
    "name": "Campaign CRUD API",
    "description": "API tests for REQ-004: Campaign CRUD operations",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:8000/api"
    },
    {
      "key": "auth_token",
      "value": ""
    }
  ],
  "item": [
    {
      "name": "Create Campaign",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{auth_token}}"
          },
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"name\": \"Customer Satisfaction Survey\",\n  \"description\": \"Q4 2024 customer satisfaction survey\",\n  \"language\": \"en\",\n  \"intro_script\": \"Hello, this is a brief survey about your experience with our service. It will take approximately 2 minutes. Do you consent to participate?\",\n  \"question_1\": {\n    \"text\": \"On a scale of 1-10, how satisfied are you with our service?\",\n    \"type\": \"scale\"\n  },\n  \"question_2\": {\n    \"text\": \"What could we do to improve your experience?\",\n    \"type\": \"free_text\"\n  },\n  \"question_3\": {\n    \"text\": \"How many times have you contacted our support team in the last month?\",\n    \"type\": \"numeric\"\n  },\n  \"max_attempts\": 3,\n  \"retry_interval_minutes\": 60,\n  \"allowed_call_start_local\": \"09:00:00\",\n  \"allowed_call_end_local\": \"20:00:00\"\n}"
        },
        "url": {
          "raw": "{{base_url}}/campaigns",
          "host": ["{{base_url}}"],
          "path": ["campaigns"]
        }
      }
    },
    {
      "name": "List Campaigns",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{auth_token}}"
          }
        ],
        "url": {
          "raw": "{{base_url}}/campaigns?page=1&page_size=20",
          "host": ["{{base_url}}"],
          "path": ["campaigns"],
          "query": [
            {"key": "page", "value": "1"},
            {"key": "page_size", "value": "20"}
          ]
        }
      }
    },
    {
      "name": "List Campaigns by Status",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{auth_token}}"
          }
        ],
        "url": {
          "raw": "{{base_url}}/campaigns?status=draft",
          "host": ["{{base_url}}"],
          "path": ["campaigns"],
          "query": [
            {"key": "status", "value": "draft"}
          ]
        }
      }
    },
    {
      "name": "Get Campaign",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{auth_token}}"
          }
        ],
        "url": {
          "raw": "{{base_url}}/campaigns/{{campaign_id}}",
          "host": ["{{base_url}}"],
          "path": ["campaigns", "{{campaign_id}}"]
        }
      }
    },
    {
      "name": "Update Campaign",
      "request": {
        "method": "PUT",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{auth_token}}"
          },
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"name\": \"Updated Campaign Name\",\n  \"description\": \"Updated description\"\n}"
        },
        "url": {
          "raw": "{{base_url}}/campaigns/{{campaign_id}}",
          "host": ["{{base_url}}"],
          "path": ["campaigns", "{{campaign_id}}"]
        }
      }
    },
    {
      "name": "Transition Campaign Status",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{auth_token}}"
          },
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"target_status\": \"running\"\n}"
        },
        "url": {
          "raw": "{{base_url}}/campaigns/{{campaign_id}}/status",
          "host": ["{{base_url}}"],
          "path": ["campaigns", "{{campaign_id}}", "status"]
        }
      }
    },
    {
      "name": "Delete Campaign",
      "request": {
        "method": "DELETE",
        "header": [
          {
            "key": "Authorization",
            "value": "Bearer {{auth_token}}"
          }
        ],
        "url": {
          "raw": "{{base_url}}/campaigns/{{campaign_id}}",
          "host": ["{{base_url}}"],
          "path": ["campaigns", "{{campaign_id}}"]
        }
      }
    }
  ]
}